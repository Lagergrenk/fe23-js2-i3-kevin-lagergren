{"mappings":"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","sources":["<anon>","src/main.ts","src/modules/api.ts","src/modules/display.ts","src/modules/utils.ts","src/modules/eventhandler.ts"],"sourcesContent":["// Purpose: API module for fetching products from the dummyjson API.\nconst $fe11eb32f95cc6d1$var$BASE_URL = \"https://dummyjson.com/products\";\nasync function $fe11eb32f95cc6d1$export$f2012bafb0501902() {\n    try {\n        const response = await fetch($fe11eb32f95cc6d1$var$BASE_URL);\n        if (!response.ok) throw new Error(`Error: ${response.status}`);\n        const data = await response.json();\n        console.log(data.products);\n        return data.products;\n    } catch (error) {\n        console.error(error);\n        return [];\n    }\n}\nasync function $fe11eb32f95cc6d1$export$d7a599c4deb046c9(searchString) {\n    try {\n        const response = await fetch(`${$fe11eb32f95cc6d1$var$BASE_URL}/search?q=${searchString}`);\n        if (!response.ok) throw new Error(`$Error: ${response.status}`);\n        const data = await response.json();\n        return data.products;\n    } catch (error) {\n        console.error(error);\n        return [];\n    }\n}\n\n\n// Porpuse: Contains utility functions to be used in the project.\nfunction $3dffc262c47c2f24$export$c86caf1be068fb8d(price) {\n    return `$ ${price.toFixed(2)}`;\n}\nfunction $3dffc262c47c2f24$export$3bb505bfc12c13cd(stock) {\n    return stock < 10;\n}\nfunction $3dffc262c47c2f24$export$ad097b35e358069() {\n    const btn = document.createElement(\"button\");\n    btn.classList.add(\"add-to-cart-button\");\n    btn.classList.add(\"btn\");\n    btn.textContent = \"Add to cart\";\n    return btn;\n}\nfunction $3dffc262c47c2f24$export$4a5c0f0ea7370011(src) {\n    const img = document.createElement(\"img\");\n    img.classList.add(\"product-image\");\n    img.src = src;\n    return img;\n}\nfunction $3dffc262c47c2f24$export$33b68ab0d3bb7b71(element, text) {\n    const p = document.createElement(element);\n    p.textContent = text;\n    return p;\n}\nfunction $3dffc262c47c2f24$export$d07f57595c356899(word) {\n    return word.charAt(0).toUpperCase() + word.slice(1);\n}\nfunction $3dffc262c47c2f24$export$4942162b0aef7a31() {\n    const productContainer = document.querySelector(\".main__product-list\");\n    productContainer.innerHTML = \"\";\n}\n\n\nfunction $b8f0d7ab97dededd$export$ef0923a538858e3c(product) {\n    const card = document.createElement(\"div\");\n    card.classList.add(\"product-card\");\n    const img = $3dffc262c47c2f24$export$4a5c0f0ea7370011(product.thumbnail);\n    card.appendChild(img);\n    const title = $3dffc262c47c2f24$export$33b68ab0d3bb7b71(\"h2\", product.title);\n    card.appendChild(title);\n    const description = $3dffc262c47c2f24$export$33b68ab0d3bb7b71(\"p\", product.description);\n    card.appendChild(description);\n    const rating = $3dffc262c47c2f24$export$33b68ab0d3bb7b71(\"p\", `Rating: ${product.rating}`);\n    card.appendChild(rating);\n    const stock = $3dffc262c47c2f24$export$33b68ab0d3bb7b71(\"p\", `Stock: ${product.stock}`);\n    if ((0, $3dffc262c47c2f24$export$3bb505bfc12c13cd)(product.stock)) {\n        stock.classList.add(\"low-stock\");\n        stock.textContent += \" (Low stock)\";\n    }\n    card.appendChild(stock);\n    const category = $3dffc262c47c2f24$export$33b68ab0d3bb7b71(\"p\", `Category: ${$3dffc262c47c2f24$export$d07f57595c356899(product.category)}`);\n    card.appendChild(category);\n    const price = $3dffc262c47c2f24$export$33b68ab0d3bb7b71(\"p\", $3dffc262c47c2f24$export$c86caf1be068fb8d(product.price));\n    card.appendChild(price);\n    const buyButton = $3dffc262c47c2f24$export$ad097b35e358069();\n    card.appendChild(buyButton);\n    return card;\n}\n\n\n\n\n\nfunction $fed4e1c1625aaf09$export$cab9637478e92769() {\n    $fed4e1c1625aaf09$var$submitSearchListner();\n}\nfunction $fed4e1c1625aaf09$var$submitSearchListner() {\n    const searchForm = document.querySelector(\".navbar__search\");\n    const searchInput = document.querySelector(\".navbar__search-input\");\n    searchForm.addEventListener(\"submit\", (e)=>{\n        e.preventDefault();\n        const searchString = searchInput.value;\n        if (searchString === \"\") {\n            alert(\"You need to enter a search!\");\n            return;\n        }\n        (0, $3dffc262c47c2f24$export$4942162b0aef7a31)();\n        const productContainer = document.querySelector(\".main__product-list\");\n        (0, $fe11eb32f95cc6d1$export$d7a599c4deb046c9)(searchString).then((products)=>{\n            console.log(products);\n            if (products.length == 0) {\n                const errorElement = (0, $3dffc262c47c2f24$export$33b68ab0d3bb7b71)(\"h2\", \"No products found\");\n                productContainer.appendChild(errorElement);\n                return;\n            }\n            products.forEach((product)=>{\n                const card = (0, $b8f0d7ab97dededd$export$ef0923a538858e3c)(product);\n                productContainer.appendChild(card);\n            });\n        });\n    });\n}\n\n\n(0, $fe11eb32f95cc6d1$export$f2012bafb0501902)().then((products)=>{\n    const productContainer = document.querySelector(\".main__product-list\");\n    products.forEach((product)=>{\n        const card = (0, $b8f0d7ab97dededd$export$ef0923a538858e3c)(product);\n        productContainer.appendChild(card);\n    });\n});\n(0, $fed4e1c1625aaf09$export$cab9637478e92769)();\n\n\n//# sourceMappingURL=index.d860457e.js.map\n","import { getAllProducts, getProductBySearchString } from \"./modules/api.ts\";\r\nimport { generateProductCard } from \"./modules/display.ts\";\r\nimport { initEventListners } from \"./modules/eventhandler.ts\";\r\n\r\ngetAllProducts().then((products) => {\r\n  const productContainer = document.querySelector(\r\n    \".main__product-list\"\r\n  ) as HTMLElement;\r\n  products.forEach((product) => {\r\n    const card = generateProductCard(product);\r\n    productContainer.appendChild(card);\r\n  });\r\n});\r\n\r\ninitEventListners();\r\n","// Purpose: API module for fetching products from the dummyjson API.\r\nconst BASE_URL: string = \"https://dummyjson.com/products\";\r\n\r\n// Product type object\r\nexport type Product = {\r\n  id: number;\r\n  title: string;\r\n  price: number;\r\n  stock: number;\r\n  description: string;\r\n  rating: number;\r\n  category: string;\r\n  thumbnail: string;\r\n};\r\n\r\n// Fetch all products from the API\r\nexport async function getAllProducts(): Promise<Product[]> {\r\n  try {\r\n    const response = await fetch(BASE_URL);\r\n    if (!response.ok) {\r\n      throw new Error(`Error: ${response.status}`);\r\n    }\r\n    const data = await response.json();\r\n    console.log(data.products);\r\n    return data.products as Product[];\r\n  } catch (error) {\r\n    console.error(error);\r\n    return [];\r\n  }\r\n}\r\n\r\n// Fetch a single product by string\r\nexport async function getProductBySearchString(\r\n  searchString: string\r\n): Promise<Product[]> {\r\n  try {\r\n    const response = await fetch(`${BASE_URL}/search?q=${searchString}`);\r\n    if (!response.ok) {\r\n      throw new Error(`$Error: ${response.status}`);\r\n    }\r\n    const data = await response.json();\r\n    return data.products as Product[];\r\n  } catch (error) {\r\n    console.error(error);\r\n    return [];\r\n  }\r\n}\r\n","import { isStockLow } from \"./utils.ts\";\r\nimport { Product } from \"./api.ts\";\r\n\r\nimport * as utils from \"./utils.ts\";\r\n\r\n// Purpose: To generate a product card with the given product\r\n// Generates a product card with the given product\r\nexport function generateProductCard(product: Product): HTMLElement {\r\n  const card = document.createElement(\"div\");\r\n  card.classList.add(\"product-card\");\r\n\r\n  const img = utils.generateHTMLImage(product.thumbnail);\r\n  card.appendChild(img);\r\n\r\n  const title = utils.generateHTMLElement(\"h2\", product.title);\r\n  card.appendChild(title);\r\n\r\n  const description = utils.generateHTMLElement(\"p\", product.description);\r\n  card.appendChild(description);\r\n\r\n  const rating = utils.generateHTMLElement(\"p\", `Rating: ${product.rating}`);\r\n  card.appendChild(rating);\r\n\r\n  const stock = utils.generateHTMLElement(\"p\", `Stock: ${product.stock}`);\r\n  if (isStockLow(product.stock)) {\r\n    stock.classList.add(\"low-stock\");\r\n    stock.textContent += \" (Low stock)\";\r\n  }\r\n  card.appendChild(stock);\r\n\r\n  const category = utils.generateHTMLElement(\r\n    \"p\",\r\n    `Category: ${utils.capitalizeFirstLetter(product.category)}`\r\n  );\r\n  card.appendChild(category);\r\n  const price = utils.generateHTMLElement(\r\n    \"p\",\r\n    utils.formatPrice(product.price)\r\n  );\r\n  card.appendChild(price);\r\n\r\n  const buyButton = utils.generateHTMLBuyButton();\r\n  card.appendChild(buyButton);\r\n\r\n  return card;\r\n}\r\n","// Porpuse: Contains utility functions to be used in the project.\r\n\r\nexport function formatPrice(price: number) {\r\n  return `$ ${price.toFixed(2)}`;\r\n}\r\nexport function isStockLow(stock: number) {\r\n  return stock < 10;\r\n}\r\n\r\nexport function generateHTMLBuyButton() {\r\n  const btn = document.createElement(\"button\");\r\n  btn.classList.add(\"add-to-cart-button\");\r\n  btn.classList.add(\"btn\");\r\n  btn.textContent = \"Add to cart\";\r\n  return btn;\r\n}\r\n\r\nexport function generateHTMLImage(src: string) {\r\n  const img = document.createElement(\"img\");\r\n  img.classList.add(\"product-image\");\r\n  img.src = src;\r\n  return img;\r\n}\r\n\r\nexport function generateHTMLElement(element: string, text: string) {\r\n  const p = document.createElement(element);\r\n  p.textContent = text;\r\n  return p;\r\n}\r\n\r\nexport function capitalizeFirstLetter(word: string) {\r\n  return word.charAt(0).toUpperCase() + word.slice(1);\r\n}\r\n\r\nexport function clearProductsList() {\r\n  const productContainer = document.querySelector(\r\n    \".main__product-list\"\r\n  ) as HTMLElement;\r\n  productContainer.innerHTML = \"\";\r\n}\r\n","import { clearProductsList, generateHTMLElement } from \"./utils.ts\";\r\nimport { generateProductCard } from \"./display.ts\";\r\nimport { getProductBySearchString } from \"./api.ts\";\r\n\r\nexport function initEventListners() {\r\n  submitSearchListner();\r\n}\r\n\r\nfunction submitSearchListner() {\r\n  const searchForm = document.querySelector(\r\n    \".navbar__search\"\r\n  ) as HTMLFormElement;\r\n  const searchInput = document.querySelector(\r\n    \".navbar__search-input\"\r\n  ) as HTMLInputElement;\r\n\r\n  searchForm.addEventListener(\"submit\", (e) => {\r\n    e.preventDefault();\r\n    const searchString = searchInput.value;\r\n    if (searchString === \"\") {\r\n      alert(\"You need to enter a search!\");\r\n      return;\r\n    }\r\n    clearProductsList();\r\n    const productContainer = document.querySelector(\r\n      \".main__product-list\"\r\n    ) as HTMLElement;\r\n    getProductBySearchString(searchString).then((products) => {\r\n      console.log(products);\r\n\r\n      if (products.length == 0) {\r\n        const errorElement = generateHTMLElement(\"h2\", \"No products found\");\r\n        productContainer.appendChild(errorElement);\r\n        return;\r\n      }\r\n\r\n      products.forEach((product) => {\r\n        const card = generateProductCard(product);\r\n        productContainer.appendChild(card);\r\n      });\r\n    });\r\n  });\r\n}\r\n"],"names":["$fe11eb32f95cc6d1$var$BASE_URL","$fe11eb32f95cc6d1$export$d7a599c4deb046c9","searchString","response","fetch","ok","Error","status","data","json","products","error","console","$3dffc262c47c2f24$export$33b68ab0d3bb7b71","element","text","p","document","createElement","textContent","$b8f0d7ab97dededd$export$ef0923a538858e3c","product","word","price","card","classList","add","img","$3dffc262c47c2f24$export$4a5c0f0ea7370011","src","thumbnail","appendChild","title","description","rating","stock","category","charAt","toUpperCase","slice","toFixed","buyButton","$3dffc262c47c2f24$export$ad097b35e358069","btn","log","then","productContainer","querySelector","forEach","$fed4e1c1625aaf09$var$submitSearchListner","searchForm","searchInput","addEventListener","e","preventDefault","value","alert","innerHTML","length","errorElement"],"version":3,"file":"index.d860457e.js.map"}